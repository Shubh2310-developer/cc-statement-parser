╔════════════════════════════════════════════════════════════════════════════════╗
║                    CREDIT CARD STATEMENT PARSER - DEPLOYMENT                   ║
╚════════════════════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────────────────────┐
│                              BEFORE DEPLOYMENT                                  │
│                          (Current Local Setup)                                  │
└─────────────────────────────────────────────────────────────────────────────────┘

    ┌──────────────────┐                    ┌──────────────────┐
    │   Your Browser   │◄──────────────────►│   Frontend       │
    │  localhost:5173  │                    │   React + Vite   │
    └──────────────────┘                    └─────────┬────────┘
                                                      │
                                                      │ API Calls
                                                      │
                                                      ▼
                                            ┌──────────────────┐
                                            │   Backend        │
                                            │   FastAPI        │
                                            │  localhost:8000  │
                                            └─────────┬────────┘
                                                      │
                                                      ▼
                                            ┌──────────────────┐
                                            │   SQLite DB +    │
                                            │   PDF Uploads    │
                                            └──────────────────┘


┌─────────────────────────────────────────────────────────────────────────────────┐
│                              AFTER DEPLOYMENT                                   │
│                         (Production Cloud Setup)                                │
└─────────────────────────────────────────────────────────────────────────────────┘

    ┌──────────────────┐                    ┌────────────────────────────────┐
    │   Any Browser    │◄──────────────────►│   Frontend on Vercel           │
    │   Worldwide      │     HTTPS          │   https://your-app.vercel.app  │
    │   🌍 🌎 🌏      │                    │                                │
    └──────────────────┘                    │   ✓ CDN (Fast Globally)       │
                                            │   ✓ Auto SSL                   │
                                            │   ✓ Auto Deploy on Git Push    │
                                            └────────────┬───────────────────┘
                                                         │
                                                         │ API Calls
                                                         │ HTTPS
                                                         │
                                                         ▼
                                            ┌────────────────────────────────┐
                                            │   Backend on Render.com        │
                                            │   https://your-app.onrender.com│
                                            │                                │
                                            │   ✓ Auto SSL                   │
                                            │   ✓ Auto Deploy on Git Push    │
                                            │   ⚠  Sleeps after 15 min (Free)│
                                            └────────────┬───────────────────┘
                                                         │
                                                         ▼
                                            ┌────────────────────────────────┐
                                            │   Persistent Disk (1GB)        │
                                            │   SQLite DB + PDF Uploads      │
                                            │                                │
                                            │   ✓ Survives Restarts          │
                                            │   ✓ Data Persisted             │
                                            └────────────────────────────────┘


╔════════════════════════════════════════════════════════════════════════════════╗
║                            DEPLOYMENT STEPS                                    ║
╚════════════════════════════════════════════════════════════════════════════════╝

┌────────┐     ┌────────┐     ┌────────┐     ┌────────┐     ┌────────┐
│ STEP 1 │────►│ STEP 2 │────►│ STEP 3 │────►│ STEP 4 │────►│ STEP 5 │
└────────┘     └────────┘     └────────┘     └────────┘     └────────┘
    │              │              │              │              │
    ▼              ▼              ▼              ▼              ▼
Push Code     Deploy Back    Deploy Front   Update CORS    Test Live
to GitHub     on Render.com  on Vercel      Settings       Website


┌─────────────────────────────────────────────────────────────────────────────────┐
│                              STEP 1: GITHUB                                     │
└─────────────────────────────────────────────────────────────────────────────────┘

    $ git init
    $ git add .
    $ git commit -m "Ready for deployment"
    $ git remote add origin https://github.com/YOUR_USERNAME/cc-statement-parser.git
    $ git push -u origin main

                              ┌──────────────────┐
                              │   GitHub.com     │
                              │                  │
                              │   📦 Your Repo  │
                              └──────────────────┘


┌─────────────────────────────────────────────────────────────────────────────────┐
│                           STEP 2: RENDER.COM (BACKEND)                          │
└─────────────────────────────────────────────────────────────────────────────────┘

    1. Visit: https://render.com
    2. Sign up with GitHub
    3. New + → Web Service
    4. Select your repository
    5. Configure:
       • Root Directory: backend
       • Runtime: Python 3
       • Build: pip install -r requirements.txt
       • Start: uvicorn app.main:app --host 0.0.0.0 --port $PORT
       • Plan: Free

    6. Add Environment Variables:
       • PYTHON_VERSION=3.10.12
       • ENVIRONMENT=production
       • DEBUG=False

    7. Add Disk Storage (1GB):
       • Mount Path: /opt/render/project/src/data

    8. Deploy! (Wait 5-10 minutes)

    ✅ Result: https://cc-parser-backend.onrender.com


┌─────────────────────────────────────────────────────────────────────────────────┐
│                           STEP 3: VERCEL (FRONTEND)                             │
└─────────────────────────────────────────────────────────────────────────────────┘

    1. Visit: https://vercel.com
    2. Sign up with GitHub
    3. Add New... → Project
    4. Select your repository
    5. Configure:
       • Framework: Vite
       • Root Directory: frontend
       • Build Command: npm run build
       • Output Directory: dist

    6. Add Environment Variable:
       • VITE_API_URL=https://cc-parser-backend.onrender.com
         (Use YOUR backend URL from Step 2)

    7. Deploy! (Wait 2-3 minutes)

    ✅ Result: https://cc-parser.vercel.app


┌─────────────────────────────────────────────────────────────────────────────────┐
│                           STEP 4: UPDATE CORS                                   │
└─────────────────────────────────────────────────────────────────────────────────┘

    1. Go to Render.com → Your Service → Environment
    2. Add Environment Variable:
       • CORS_ORIGINS=["https://cc-parser.vercel.app","http://localhost:5173"]
         (Use YOUR Vercel URL from Step 3)
    3. Save Changes (auto-restarts in 2 minutes)


┌─────────────────────────────────────────────────────────────────────────────────┐
│                           STEP 5: TEST DEPLOYMENT                               │
└─────────────────────────────────────────────────────────────────────────────────┘

    1. Open: https://cc-parser.vercel.app
    2. Upload a PDF
    3. Check extraction results
    4. Open browser console (F12) - no CORS errors
    5. Test API directly: curl https://cc-parser-backend.onrender.com/health

    ✅ If everything works → YOU'RE LIVE! 🎉


╔════════════════════════════════════════════════════════════════════════════════╗
║                         COST BREAKDOWN (FREE TIER)                             ║
╚════════════════════════════════════════════════════════════════════════════════╝

┌──────────────┬──────────────┬───────────────────────────────────────────┐
│   Service    │   Cost       │   Limitations                             │
├──────────────┼──────────────┼───────────────────────────────────────────┤
│ Vercel       │   $0/month   │ • Unlimited bandwidth                     │
│ (Frontend)   │              │ • Auto-scaling                            │
│              │              │ • 100 GB/month bandwidth                  │
├──────────────┼──────────────┼───────────────────────────────────────────┤
│ Render.com   │   $0/month   │ • Sleeps after 15 min inactivity         │
│ (Backend)    │              │ • 750 hours/month                         │
│              │              │ • Wakes up on first request (30s delay)   │
├──────────────┼──────────────┼───────────────────────────────────────────┤
│ TOTAL        │   $0/month   │ Perfect for demo, personal use, portfolio │
└──────────────┴──────────────┴───────────────────────────────────────────┘


╔════════════════════════════════════════════════════════════════════════════════╗
║                         UPGRADE OPTIONS (OPTIONAL)                             ║
╚════════════════════════════════════════════════════════════════════════════════╝

┌──────────────┬──────────────┬───────────────────────────────────────────┐
│   Service    │   Cost       │   Benefits                                │
├──────────────┼──────────────┼───────────────────────────────────────────┤
│ Render       │   $7/month   │ • 24/7 uptime (no sleeping)              │
│ Starter      │              │ • Faster CPU                              │
│              │              │ • Better for production                   │
└──────────────┴──────────────┴───────────────────────────────────────────┘


╔════════════════════════════════════════════════════════════════════════════════╗
║                         FILES CREATED FOR DEPLOYMENT                           ║
╚════════════════════════════════════════════════════════════════════════════════╝

    ✓ backend/render.yaml                  (Render.com config)
    ✓ backend/.env.production              (Production environment vars)
    ✓ frontend/.env.example                (Environment template)
    ✓ DEPLOYMENT.md                        (Complete deployment guide)
    ✓ DEPLOYMENT-SUMMARY.md                (Quick reference guide)
    ✓ deploy-checklist.sh                  (Pre-deployment checks)
    ✓ deployment-diagram.txt               (This file - visual guide)


╔════════════════════════════════════════════════════════════════════════════════╗
║                         QUICK REFERENCE COMMANDS                               ║
╚════════════════════════════════════════════════════════════════════════════════╝

    # Run pre-deployment checks
    $ ./deploy-checklist.sh

    # Read detailed guide
    $ cat DEPLOYMENT.md

    # Read quick summary
    $ cat DEPLOYMENT-SUMMARY.md

    # Test backend health (after deployment)
    $ curl https://YOUR-BACKEND-URL.onrender.com/health

    # View backend API docs (after deployment)
    $ open https://YOUR-BACKEND-URL.onrender.com/docs


╔════════════════════════════════════════════════════════════════════════════════╗
║                              COMMON ISSUES                                     ║
╚════════════════════════════════════════════════════════════════════════════════╝

    ❌ CORS Error → Update CORS_ORIGINS in Render environment
    ❌ 404 Error → Check VITE_API_URL in Vercel environment
    ❌ 500 Error → Check Render logs for errors
    ⚠  Slow First Request → Normal (free tier wakes up in 30s)


╔════════════════════════════════════════════════════════════════════════════════╗
║                              SUCCESS INDICATORS                                ║
╚════════════════════════════════════════════════════════════════════════════════╝

    ✅ Frontend loads without errors
    ✅ Can upload PDF file
    ✅ Extraction results appear
    ✅ No CORS errors in browser console (F12)
    ✅ Backend /health returns 200
    ✅ Can access Swagger docs at /docs


╔════════════════════════════════════════════════════════════════════════════════╗
║                              NEXT STEPS                                        ║
╚════════════════════════════════════════════════════════════════════════════════╝

    1. Share your app URL with users
    2. Monitor logs in Render and Vercel dashboards
    3. Add custom domain (optional)
    4. Upgrade to paid plans for production (optional)
    5. Add more features (new banks, export formats, etc.)


                            🎉 HAPPY DEPLOYING! 🎉

